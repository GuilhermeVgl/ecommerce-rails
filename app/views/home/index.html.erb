<div class="bg-gray-800 text-white text-center flex justify-center items-center align-center">
  <ul class="flex gap-10">
    <% @main_categories.each do |category| %>
      <li>
        <%= link_to category_path(category) do %>
          <div class="flex flex-col items-center p-4">
            <%= category.name %>
          </div>
        <% end %>
      </li>
    <% end %>
  </ul>
</div>

<div>
    <% @main_categories.each do |category| %>
        <% products_in_category = @products.select { |product| product.category_id == category.id } %>
        <% if products_in_category.any? %>
            <div class="flex flex-col items-center p-4 w-full">
                <h2 class="text-2xl font-bold mb-4"><%= category.name %></h2>
                <div class="flex flex-wrap justify-center gap-4">
                    <% products_in_category.each_with_index do |product, index| %>
                        <div class="w-1/2 p-2">
                            <%= link_to product_path(product) do %>
                                <div class="flex flex-col justify-center items-center">
                                    <%= product.images.first ? image_tag(product.images.first.variant(:medium), class: "rounded w-full h-64 object-cover") : image_tag("http://via.placeholder.com/250", class: "rounded w-full h-64 object-cover") %>
                                    <p class="mt-6 font-medium text-gray-800"><%= product.name %></p>
                                </div>
                            <% end %>
                        </div>
                        <% if (index + 1) % 2 == 0 %>
                            <div class="w-full"></div> <!-- Forçar quebra de linha após cada dois produtos -->
                        <% end %>
                    <% end %>
                </div>
            </div>
        <% end %>
    <% end %>
</div>

